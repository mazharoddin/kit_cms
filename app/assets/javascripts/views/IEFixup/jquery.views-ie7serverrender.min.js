/* JsViews IE7 Server Render compatibity plugin v1.0pre: http://github.com/BorisMoore/jsviews */
(function(c,d){var b=c.fn.link;function a(b,l,n){var f,g,e,m,c=l,i=n;function j(a,b){var c=b.nextSibling;while(a){m=a.nextSibling;b.parentNode.insertBefore(a,c);a=m}}b=b.nodeType===1?b.firstChild:b.nextSibling;while(b){g=d;if(b.nodeType===1){i++;if(g=a(b,c,i)){c=g;b=c.prevNode}}else if(b.nodeType===8&&(f=/^(\/?)(?:(item)|(?:tmpl(?:\(.*\))?(?:\s+[^\s]+)?))$/.exec(b.nodeValue))){e=b.parentNode;if(f[1]){c.nextNode=b;if(c.prevNode&&e!==c.prevNode.parentNode){j(b,e);return}if(f[2])c=l;else return b}else if(f[2])c={prevNode:b};else b=a(b,{prevNode:b},0)}b=b.nextSibling}if(!b&&i===0&&!c.nextNode){nodeToMove=e.firstChild;var h,k=0;while(nodeToMove){if(nodeToMove.nodeType===8){if(!k)h=nodeToMove;k+=nodeToMove.nodeValue.charAt(0)!=="/"?-1:1}nodeToMove=nodeToMove.nextSibling}if(h){j(h,e);return c}}}if(b&&document.all&&!window.opera&&(!document.documentMode||document.documentMode<8))c.fn.link=function(e,c,d){!c&&/<!--tmpl/.test(this.html())&&this.each(function(){a(this,{})});return b.call(this,e,c,d)}})(jQuery);